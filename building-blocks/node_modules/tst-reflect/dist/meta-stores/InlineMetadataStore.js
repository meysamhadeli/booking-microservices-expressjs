"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InlineMetadataStore = void 0;
const Type_1 = require("../Type");
const MetadataStoreBase_1 = require("./MetadataStoreBase");
let store = null;
class InlineMetadataStore extends MetadataStoreBase_1.MetadataStoreBase {
    constructor() {
        super(...arguments);
        this._store = {};
    }
    static initiate() {
        if (store) {
            return store;
        }
        store = new InlineMetadataStore();
        Type_1.Type._setStore(store);
        return store;
    }
    static get() {
        return store || this.initiate();
    }
    get store() {
        return this._store;
    }
    get(id) {
        var _a;
        return (_a = this._store[id]) !== null && _a !== void 0 ? _a : undefined;
    }
    getLazy(id) {
        return function lazyType() {
            var _a;
            return (_a = InlineMetadataStore.get().get(id)) !== null && _a !== void 0 ? _a : undefined;
        };
    }
}
exports.InlineMetadataStore = InlineMetadataStore;
